!function(t,e){function o(t){return t&&("always"===t.embedded||"load"===t.embedded)}function i(t,e,i){var n=s(this.constructor,"relationshipsByName"),r=n.values;for(var a in r)if(r.hasOwnProperty(a)){var d=r[a].key;t&&o(t[e.keyForAttribute(d)])&&i(r[a],this.get(d))}}function n(t,e){if(e&&!(e.toString().indexOf("Promise")>0)){var o=t.kind;"belongsTo"===o?r(e):"hasMany"===o&&e.content.forEach(r)}}function r(t){t.rollback()}function a(t,e){if(e&&!(e.toString().indexOf("Promise")>0)){var o=t.kind;"belongsTo"===o?d(e):"hasMany"===o&&e.content.forEach(d)}}function d(t){t.transitionTo("updated.uncommitted")}var s=t.get;e.ModelWithEmbeddedMixin=t.Mixin.create({embeddedNotifier:function(t,e){var o=this.store.serializerFor(this.constructor),r=o.get("attrs");r&&("root.loaded.updated.uncommitted"===this.get(e)?i.call(this,r,o,a):"root.loaded.saved"===this.get(e)&&i.call(this,r,o,n))}.observes("currentState.stateName")})}(Ember,DS);