!function(e,t){function i(e){return e&&("always"===e.embedded||"load"===e.embedded)}function r(e,t){var i=e+"_id";t.hasOwnProperty(i)&&delete t[i]}function a(e,t,r,a){var o=s(this,"attrs");o&&t.eachRelationship(function(t,s){var y=o[t];i(y)&&"belongsTo"===s.kind&&n.call(this,e,t,s,r,a)},this)}function n(t,r,a,n,o){var y=this.get("attrs");if(y&&(i(y[e.String.camelize(r)])||i(y[r]))){var l=t.serializerFor(a.type.typeKey),d=(s(l,"primaryKey"),e.String.pluralize(a.type.typeKey)),p=l.keyForRelationship(r,a.kind),u=l.keyForAttribute(r);if(o[u]){n[d]=n[d]||[];{t.modelFor(a.type.typeKey)}o[p]=o[u].id,n[d].push(o[u]),o[u][a.parentType.typeKey+"_id"]=o.id,delete o[u]}}}{var s=e.get;e.EnumerableUtils.forEach}t.HasOneEmbeddedRecordsMixin=e.Mixin.create({serializeBelongsTo:function(e,t,a){var n=a.key,s=this.get("attrs");if(!s||!i(s[n]))return this._super(e,t,a),void 0;var o=this.keyForAttribute(n),y=e.get(n);if(y){t[o]=y.serialize();var l=y.get("id");l&&(t[o].id=l);var d=this.keyForAttribute(a.parentType.typeKey);d&&r(d,t[o]),delete t[o][d]}else t[o]=null},extractSingle:function(e,t,i,r,n){var s=this.keyForAttribute(t.typeKey),o=i[s];return a.call(this,e,t,i,o),this._super(e,t,i,r,n)}})}(Ember,DS);